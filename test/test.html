<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8" />
    <title>AngularJS Plunker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular.js"></script>
    <script src="../dist/img-src-ondemand.js"></script>
    <script>
      angular.module('demo', ['img-src-ondemand'])
      .config(function(ImgSrcOndemandProvider) {
        ImgSrcOndemandProvider.offset(500);
      })
      .run(function($document) {
        for (var i = 20; i > 0; --i) {
          var m = Math.random() * 500 >> 0,
          n = Math.random() * 500 >> 0;
          var img = document.createElement('img');
          img.setAttribute('src-ondemand', 'http://lorempixel.com/g/' + m + '/' + n);
          $document[0].body.appendChild(img);
        }
      });
    </script>
    <style>
      img {
        display: block;
        height: 200px;
      }
    </style>
  </head>

  <body ng-app="demo"></body>

</html>
